<!doctype html>
<html lang="ko">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Data Analysis Studio</title>
    <link rel="stylesheet" href="./styles.css" />
  </head>
  <body>
    <header>
      <h1>Data Analysis Studio</h1>
      <div id="app-info"></div>
      <nav>
        <a href="/docs" target="_blank">OpenAPI Docs</a>
        <a href="/redoc" target="_blank">ReDoc</a>
      </nav>
    </header>

    <main>
      <section class="card">
        <h2>1) CSV 업로드</h2>
        <form id="upload-form">
          <label>Dataset ID(선택): <input type="text" id="dataset-id" placeholder="자동 생성" /></label>
          <label>CSV 파일: <input type="file" id="csv-file" accept=".csv,text/csv" required /></label>
          <button type="submit">업로드</button>
        </form>
        <div id="upload-result" class="muted"></div>
      </section>

      <section class="card">
        <h2>2) 데이터셋 목록</h2>
        <div class="toolbar">
          <button id="refresh-list">새로고침</button>
        </div>
        <div id="datasets-list"></div>
      </section>

      <section class="card">
        <h2>3) 미리보기</h2>
        <form id="preview-form">
          <label>Dataset ID: <input type="text" id="preview-id" required /></label>
          <label>행 수: <input type="number" id="preview-n" value="20" min="1" max="1000" /></label>
          <button type="submit">미리보기</button>
        </form>
        <div id="preview-table"></div>
      </section>

      <section class="card">
        <h2>4) 요약 통계</h2>
        <form id="describe-form">
          <label>Dataset ID: <input type="text" id="describe-id" required /></label>
          <label>샘플 행 제한: <input type="number" id="describe-limit" value="5000" min="10" max="200000" /></label>
          <label>전체 컬럼 포함: <input type="checkbox" id="describe-all" checked /></label>
          <button type="submit">요약 보기</button>
        </form>
        <div id="describe-table"></div>
      </section>

      <section class="card">
        <h2>5) 결측치 현황</h2>
        <form id="nulls-form">
          <label>Dataset ID: <input type="text" id="nulls-id" required /></label>
          <label>행 제한(옵션): <input type="number" id="nulls-limit" placeholder="전체" min="1" /></label>
          <button type="submit">결측치 보기</button>
        </form>
        <div id="nulls-table"></div>
      </section>

      <section class="card">
        <h2>6) 타입 변환</h2>
        <form id="cast-form">
          <label>Source ID: <input type="text" id="cast-source" required /></label>
          <label>Column: <input type="text" id="cast-column" required /></label>
          <label>Target Type:
            <select id="cast-type">
              <option value="int">int</option>
              <option value="float">float</option>
              <option value="string">string</option>
              <option value="datetime">datetime</option>
              <option value="bool">bool</option>
              <option value="category">category</option>
            </select>
          </label>
          <label>Out ID(옵션): <input type="text" id="cast-out" placeholder="자동 생성" /></label>
          <label><input type="checkbox" id="cast-strict" /> strict 모드(변환 실패 시 에러)</label>
          <button type="submit">변환 실행</button>
        </form>
        <div id="cast-result" class="muted"></div>
      </section>
    </main>

    <footer>
      <span class="muted">UI는 단순 데모용입니다. 대용량 처리/보안은 서버에서 관리됩니다.</span>
    </footer>

    <script src="./app.js"></script>
  </body>
  </html>
